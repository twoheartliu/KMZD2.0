<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>孔孟之道--个人主页</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style>
        html,body{
          background-color: #f2f2f2;
        }
        .fr {
            float: right;
        }

        .fl {
            float: left;
        }

        .p20px {
            padding: 0px 20px;
        }
        .row {
            display: -webkit-box;
            display: -webkit-flex;
        }

        .col {
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            flex: 1;
            position: relative;
        }
        .index_header{width: 100%;background-color: #fff;margin-bottom: 5px;}
        .index_header_div {width: 100%;position: relative;}
        .index_header_img {width: 75px;margin: 7.5px auto;border-radius: 37.5px;z-index: 0;}
        .index_header_img img{width: 100%;}

        .wode_bg {width: 100%;padding-bottom: 25px;}
        .wode_bg div{text-align: center;}
        .index_header_mvp_p{height:40px;position: relative;line-height: 40px;}
        /*.index_header_mvp_p{color: #333333;font-size: 13px;}*/
        .index_header_mvp_span{font-size: 14px;color: #808080;}
        .index_header_bor{border: 1px solid #fff;width: 90px;height: 90px;margin: 0 auto;border-radius: 45px;position: relative;}
        .index_main {width: 100%;background-color: #fff;}
        .index_main_h1{height: 50px;line-height: 50px;overflow: hidden;}
        .index_main_img img{width: 21px;height: 20px;padding: 15px 0;}
        .index_main_span{font-size: 16px;color: #999;}
        .index_main_span span{font-size: 16px;color: #999;}
        /*个性化推荐 */
        .egret-flex-item {
            display: -webkit-box;
            -webkit-box-align: center;
            height: 100px;
            border-bottom: 1px solid #f2f2f2;
        }
        .egret-flex-item-logo {
            max-width: 80px;
            min-width: 80px;
            /*margin-left: 0.5em;
            margin-right: 0.2em;*/
            -webkit-box-flex: 1;
            -webkit-box-align: center;
        }
        .egret-flex-item-logo img {
            height: 80px;
            width: 80px;
            -webkit-box-align: center;
            vertical-align: top;
        }
        .egret-flex-item-shelf {
            overflow: hidden;
            -webkit-box-flex: 2;
            -webkit-box-align: center;
        }

        .egret-flex-item-shelf div {
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            margin-top: 5px;
            line-height: 35px;
        }
        .egret-flex-item-shelf01 span{font-size: 15px;color:#000;width:100px;}
        .egret-flex-item-shelf01 .span1{
          text-align: left;
          width:100px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        .egret-flex-item-shelf01 .span3{text-align: right;}
        .egret-flex-item-shelf01 .span3 img{
          width: 20px;
          height:20px;
        }
        .egret-flex-item-shelf .egret-flex-item-shelf01 .span4 {
          width: 50px;
          height: 18px;
          border: 1px solid red;
          font-size: 14px;
          color: red;
          line-height: 18px;
          border-radius: 5px;
          text-align: center;
        }
        .egret-flex-item-shelf .egret-flex-item-shelf02 {
            font-size: 15px;
            color: #666;
        }
        .egret-flex-item-shelf .egret-flex-item-shelf02 span {
            font-size: 15px;
            color: #000;
        }
        .egret-flex-item-shelf03 div {
            float: left;
            line-height: 20px;
            margin: 5px 2px;
        }
        .egret-flex-item-shelf03 div img {
            width: 15px;
            height: 15px;
            line-height: 15px;
            margin: 0 3px;
        }
        .egret-flex-item-shelf03 div span {
            line-height: 18px;
            vertical-align: top;
            font-size:14px;
            color:#b2b2b2;
        }
        .egret-flex-item-shelf .egret-flex-item-redclassify {
            color: #E03F40;
            border: 1px solid #E03F40;
            font-size: inherit;
            padding: 0 0.1em;
            border-radius: 1px;
            margin-right: 5px;
            box-sizing: border-box;
        }
        /*.fmbtnhover {
            background: #D8D9DA;
        }*/
        /*.message{
            position: absolute;
            bottom: 7px;
            right: 32px;
            width:40px;
            height:25px;
            text-align: center;
            display: inline-block;
        }
        .message>p{
          width:60px;
          height:25px;
          line-height: 25px;
          border-radius: 8px;
          background-color: #89211b;
          color:#fff;
          font-size: 12px;

        }*/
        .user_name{
          display: inline-block;
          color: #333333;
          font-size: 16px;
        }
        .index_header_care{
          position: absolute;
          bottom: 4px;
          right: 15px;
          z-index: 1;
          width: 90px;
          height: 18px;
          border: 1px solid #89211b;
          padding: 5px 3px;
          border-radius: 15px;
          line-height: 20px;
          display: inline-block;
          /*background-color: #89211b;*/
        }
        .index_header_care img{
          height:20px;
          vertical-align: top;
        }
    </style>
</head>
<body>
  <div class="index_header" id="indexHeader">
      <div class="index_header_div">
        <div class="index_header_bor">
            <div class="index_header_img"><img src="../image/KM_tx.png" alt=""></div>
            <!-- <div class="index_header_care"><img src="../image/care.png" alt="" class="indexHeaderCare1"></div>
            <div class="message"><p>发私信</p></div> -->
        </div>

        <div class="wode_bg">
            <div class="index_header_mvp_p">
                <div class="user_name">小小</div>
              <div class="index_header_care">
                <img src="../image/my/care_a.png" alt="" class="indexHeaderCare1">
                <img src="../image/my/personal_private_a.png" alt="" class="indexHeaderCare1" onclick="fnOpenPersonalPrivate();">
              </div>
            <!-- <div class="message"><p>发私信</p></div></div> -->
            <div class="index_header_mvp_span"><b>签名：</b>我是一个狠辣狠辣的辣椒，哈哈哈哈</div>
        </div>
      </div>
  </div>
  <div class="index_main">
    <div class="p20px">
      <div class="index_main_h1">
        <!-- <div class="index_main_img fl"><img src="../image/my/index_fbzp.png" alt=""></div> -->
        <b class="index_main_span fl">发表作品(<span>20</span>)</b>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"> <img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"><img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"><img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"><img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"><img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
      <div class="egret-flex-item" tapmode="fmbtnhover" >
          <div class="egret-flex-item-logo" >
              <img src="../image/KM_album.png" alt="" class="">
          </div>
          <div class="egret-flex-item-shelf">
              <div class="egret-flex-item-shelf01 row">
                  <span class="span1 col">《沁园春·雪》</span>
                  <span class="span3 col" onclick="fnOpenPlayMore()"><img src="../image/KM_list_more.png" alt=""></span>
              </div>
              <div class="egret-flex-item-shelf03">
                  <div><img src="../image/KM_play.png" alt=""><span>100</span></div>
                  <!-- <div><img src="../image/KM_dx.png" alt=""><span>100</span></div> -->
                  <div><img src="../image/KM_zf.png" alt=""><span>100</span></div>
                  <div><img src="../image/KM_dz.png" alt=""><span>100</span></div>
              </div>
          </div>
      </div>
    </div>
  </div>
</body>

</html>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">
    apiready = function() {
      fnOpenAddCare();
    }
    //加关注
    function fnOpenAddCare() {
      var indexHeader = document.getElementById('indexHeader');
      var indexHeaderCare1 = indexHeader.getElementsByClassName('indexHeaderCare1');
      indexHeaderCare1[0].onclick = function() {
        var dialogBox = api.require('dialogBox');
            dialogBox.alert({
                texts:{
                    content:'确定要添加关注吗？',
                    leftBtnTitle: '取消',
                    rightBtnTitle: '确认'
                },
                styles: {
                    bg: '#fff',
                    w: 300,
                    content: {
                        color: '#000',
                        size: 14
                    },
                    left: {
                        marginB: 15,
                        marginL: 20,
                        w: 100,
                        h: 35,
                        corner: 2,
                        bg: '#ccc',
                        color: '#fff',
                        size: 12,
                    },
                    right: {
                        marginB: 15,
                        marginL: 60,
                        w: 100,
                        h: 35,
                        corner: 2,
                        bg: '#ccc',
                        color: '#fff',
                        size: 12,
                    }
                }
              },function(ret) {
                if (ret.eventType == 'right') {
                    if(indexHeaderCare1[0].getAttribute("src",2)=="../image/my/care_a.png"){
                      indexHeaderCare1[0].src="../image/my/care_g.png";
                    }
                    var dialogBox = api.require('dialogBox');
                    dialogBox.close({
                        dialogName: 'alert'
                    });
                }else if (ret.eventType == 'left') {
                  var dialogBox = api.require('dialogBox');
                  dialogBox.close({
                      dialogName: 'alert'
                  });
              }
          });
        }

      }

      function fnOpenPersonalPrivate(){
        api.openWin({
            name: 'personalPrivate',
            url: './personal_private.html',
            pageParam: {
                name: 'test'
            }
        });
      }
      //打开更多
      function fnOpenPlayMore() {
          var dialogBox = api.require('dialogBox');
          dialogBox.actionMenu({
              rect: {
                  h: 150
              },
              texts: {
                  cancel: '取消'
              },
              items: [{
                  text: '收藏',
                  icon: 'widget://image/KM_hxs.png'
              }, {
                  text: '添加到听单',
                  icon: 'widget://image/KM_play_add_gray.png'
              }, {
                  text: '分享',
                  icon: 'widget://image/KM_ListingsListGd.png'
              }],
              styles: {
                  bg: '#FFF',
                  column: 3,
                  itemText: {
                      color: '#000',
                      size: 12,
                      marginT: 8
                  },
                  itemIcon: {
                      size: 30
                  },
                  cancel: {
                      bg: 'fs://icon.png',
                      color: '#000',
                      h: 44,
                      size: 14
                  }
              },
              tapClose: true
          }, function(ret) {
              if (ret.eventType == 'cancel') {
                  dialogBox.close({
                      dialogName: 'discount'
                  });
              }
              if (ret.index == "0") {
                  api.toast({
                      msg: '收藏成功',
                      duration: 2000,
                      location: 'middle'
                  });
                  dialogBox.close({
                      dialogName: 'alert'
                  });
                  // alert(1);
              } else if (ret.index == "1") {
                  fnOpenAddListening()
                  dialogBox.close({
                      dialogName: 'alert'
                  });
                  // alert(2);
              } else if (ret.index == "2") {
                  fnOpenPlayShare();
                  // dialogBox.close({
                  //     dialogName: 'alert'
                  // });
                  // alert(3);
              } else {
                  dialogBox.close({
                      dialogName: 'alert'
                  });
              }
              // dialogBox.close({
              //     dialogName: 'alert'
              // })
              // alert(JSON.stringify(ret))

          });
      }
      //打开分享
      function fnOpenPlayShare() {
          var dialogBox = api.require('dialogBox');
          dialogBox.actionMenu({
              rect: {
                  h: 150
              },
              texts: {
                  cancel: '取消'
              },
              items: [{
                  text: '微信',
                  icon: 'widget://image/weixin.png'
              }, {
                  text: 'QQ',
                  icon: 'widget://image/qq.png'
              }, {
                  text: '朋友圈',
                  icon: 'widget://image/friends.png'
              }],
              styles: {
                  bg: '#FFF',
                  column: 3,
                  itemText: {
                      color: '#000',
                      size: 12,
                      marginT: 8
                  },
                  itemIcon: {
                      size: 30
                  },
                  cancel: {
                      bg: 'fs://icon.png',
                      color: '#000',
                      h: 44,
                      size: 14
                  }
              },
              tapClose: true
          }, function(ret) {
              if (ret.eventType == 'cancel') {
                  dialogBox.close({
                      dialogName: 'discount'
                  });
              }
              if (ret.index == "0") {
                  dialogBox.close({
                      dialogName: 'alert'
                  });
                  // alert(1);
              } else if (ret.index == "1") {
                  dialogBox.close({
                      dialogName: 'alert'
                  });
                  // alert(2);
              } else if (ret.index == "2") {
                  dialogBox.close({
                      dialogName: 'alert'
                  });
                  // alert(3);
              } else {
                  dialogBox.close({
                      dialogName: 'alert'
                  });
              }
              // dialogBox.close({
              //     dialogName: 'alert'
              // })
              // alert(JSON.stringify(ret))

          });
      }
      //添加到听单
      function fnOpenAddListening(){
        api.openWin({
            name: 'addListening',
            url: './add_listening.html',
            pageParam: {
                name: 'test'
            }
        });
      }

</script>
