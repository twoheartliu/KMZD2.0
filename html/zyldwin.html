<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>孔孟之道--自由朗诵</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style>
        html,
        body {
            overflow: hidden;
            /*background-color: #252625;*/
        }

        .fr {
            float: right;
        }

        .fl {
            float: left;
        }

        .p20px {
            padding: 0 20px;
        }

        .row {
            display: -webkit-box;
            display: -webkit-flex;
        }

        .col {
            -webkit-box-flex: 1;
            -webkit-flex: 1;
            flex: 1;
            margin: 0 5px;
            position: relative;
        }

        header {
            width: 100%;
            height: 50px;
            background: #89211b;
            overflow: hidden;
        }

        .header_fl span {
            padding: 17px;
            color: #fff;
        }

        .header_fls img {
            width: 15px;
            height: 20px;
            padding: 13px;
        }

        .header_center {
            margin: 0 auto;
            width: 100%;
            height: 50px;
            line-height: 50px;
            text-align: center;
            font-size: 20px;
            color: #fff;
        }

        .header_fr {
            width: 30px;
            height: 30px;
            padding: 10px;
            line-height: 30px;
            font-size: 15px;
            color: #fff;
            /*display: none;*/
        }

        #footer {
            width: 100%;
            /*height: 190px;*/
            position: fixed;
            bottom: 0;
        }

        .footer_bottom {
            width: 100%;
        }

        .footer_bottoms {
            width: 100px;
            height: 100px;
            margin: 0 auto;
        }

        .footer_p {
            width: 100%;
            height: 30px;
            line-height: 30px;
            background: #252625;
            color: #fff;
            text-align: center;
        }

        .aloud_frame_bg_bottom {
            width: 100%;
            height: 45px;
            /*background-image: url(../image/KM_bottom.png);*/
            /*background-size: 100% 100%;*/
            /*margin-bottom: 40px;*/
            background: #fff;
            position: relative;
            border-bottom: 1px solid #ccc;
            line-height: 45px;
            text-align: center;
            color: #ccc;
        }

        .footer_bottoms_st {
            text-align: center;
            line-height: 100px;
            height: 100px;
        }

        .footer_bottoms_st img {
            width: 50px;
            height: 50px;
            padding-top: 25px;
        }

        .name_bg {
            /*height: 490px;*/
            height: 100%;
            overflow: hidden;
            background-image: url(../image/read/333074849337770206.png);
            background-size: 100% 100%;
        }

        .name {
            width: 100%;
            height: 100px;
        }

        .name_name {
            width: 100%;
            height: 50px;
        }

        .name_name div {
            width: 100%;
            height: 25px;
            line-height: 25px;
            text-align: center;
        }

        .name_h1 {
            font-size: 14px;
        }

        .aloud_py {
            width: 100%;
            height: 50px;
            background: #fff;
        }

        .name_h2 {
            font-size: 12px;
        }

        .aloud_py_fl {
            line-height: 50px;
            color: #999999;
        }

        .aloud_py_fr {
            line-height: 50px;
            position: relative;
            color: #999999;
        }

        .aloud_py_fr span {
            position: relative;
            top: 5px;
            width: 20px;
            height: 20px;
            background-image: url(../image/read/aloud_py.png);
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }

        .name_nr {
            width: 100%;
            height: 220px;
            overflow: auto;
            text-align: center;
        }

        .name_nr::-webkit-scrollbar {
            display: none;
        }

        .name_nr p {
            word-wrap: break-word;
            word-break: break-all;
        }

        .name_bt {
            width: 100%;
            height: 100px;
            background: rgba(00, 00, 00, 0.5);
            display: flex;
        }

        .name_bt div {
            flex: 1;
        }

        .name_bt_c {
            /*background-image: url(../image/aloud/738958635261814309.png);*/
            background-repeat: no-repeat;
            /*background-size: ;*/
            background-position: center;
        }

        .name_bt_s{
          background-image: url(../image/read/673516943132436237.png);
          background-repeat: no-repeat;
          /*background-size: ;*/
          background-position: center;
        }
        .name_bt_c img {
            display: block;
            margin: 25px auto;
            /*line-height: 100px;*/
        }
        .name_bt_b img {
            display: block;
            margin: 25px auto;
            /*line-height: 100px;*/
        }

        .name_this {
            width: 100%;
            height: 50px;
            line-height: 50px;
            font-size: 12px;
            color: red;
            text-align: center;
        }

        .name_ov {
            overflow: hidden;
        }

        .zyld_input {
            width: 100%;
            margin: 5px 0;
        }

        .zyld_input input {
            width: 300px;
            height: 20px;
            outline: none;
            -webkit-appearance: none;
            border-radius: 0;
            border-bottom: 1px solid #ccc;
            margin: 0 auto;
            display: block;
            text-align: center;
        }

        .zyld_text {
            margin: 20px 0;
        }

        .replyValue {
            /*background: red;*/
            width: 300px;
            height: 300px;
            line-height: 25px;
            display: block;
            margin: 0 auto;
            resize: none;
            overflow: scroll;
            text-shadow: 2rem;
            outline: none;
            -webkit-appearance: none;
            border-radius: 0;
        }

        .replyValue::-webkit-scrollbar {
            display: none;
        }</style>
</head>

<body>
    <header id="secHeader">
        <div class="header_fls fl" onclick="goback();"><img src="../image/icon_back.png" alt=""></div>
        <div class="header_fl fr"><span>保存</span></div>
        <div class="header_center">朗诵</div>
    </header>
    <div class="name_bg">
        <div class="name">
            <div class="name_name">
                <div class="zyld_name">
                    <!-- <div class="zyld_h1">命名</div> -->

                    <div class="zyld_input"><input type="text" name="" value="" placeholder="标题" onclick="" id="inputId"></div>

                </div>
                <div class="zyld_name">
                    <!-- <div class="zyld_h1">命名</div> -->

                    <div class="zyld_input"><input type="text" name="" value="" placeholder="作者" onclick="" id="inputId"></div>

                </div>
            </div>
            <div class="name_this">
                ·正在录制 00:01
            </div>
        </div>
        <div class="name_ov">
            <div class="zyld_text">
                <div class="p20px">
                    <textarea placeholder="长按粘贴文本" class="replyValue" type="text" id="bar" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>
                    <!-- <button class="btn" data-clipboard-action="copy" data-clipboard-target="#bar" onclick="fncabtton();">123123</button> -->
                </div>

            </div>
        </div>


    </div>
    <footer id="footer">
        <div class="name_bt">
            <div class="name_bt_c"><img src="../image/read/335551519577750673.png" alt="" id="playCollects" onclick="fnAletr();"></div>
            <div class="name_bt_b"><img src="../image/read/recording.png" alt="" id="playCollect" onclick="fnOpenPlayCollect();"></div>
            <div class="name_bt_s" onclick="fnCtWin();"></div>
        </div>
        <!-- <div class="p20px"> -->
        <div class="aloud_frame_bg_bottom" onclick="fnSoundtrackWin()">
            更换剧本
        </div>
        <div class="aloud_py">
            <div class="p20px">
                <div class="fl aloud_py_fl">当前没有配乐</div>
                <div class="fr aloud_py_fr" onclick="fnSoundtrackWin();"><span></span>选择配乐</div>
            </div>
        </div>
    </footer>
</body>

</html>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/zepto.js"></script>
<script type="text/javascript">
    function goback() {
        api.closeWin({
            name: 'zyldwin'
        });
    }

    function fnAletr() {
        // api.confirm({
        //     title: '是否重新录制',
        //     msg: 'testmsg',
        //     buttons: ['确定', '取消']
        // }, function(ret, err) {
        //     var index = ret.buttonIndex;
        //     alert(JSON.stringify( ret ));
        //     if (index == 1) {
        //       alert(1)
        //     }else {
        //       alert(2)
        //     }
        // });
        var playCollect = $api.byId('playCollects');
        if (playCollect.getAttribute("src", 2) == "../image/read/738958635261814309.png") {
            playCollect.src = "../image/read/335551519577750673.png";
        } else {
            playCollect.src = "../image/read/738958635261814309.png";
        }

    }

    function fnSoundtrackWin() {
        api.openWin({
            name: 'soundtrack',
            url: './soundtrack.html',
            pageParam: {
                name: 'test'
            }
        });

    }

    apiready = function() {
        var secHeader = $api.byId('secHeader');
        $api.fixStatusBar(secHeader);
        var headerH = $api.offset(secHeader).h;

    }

    function fnOpenPlayCollect() {
        var playCollect = $api.byId('playCollect');
        if (playCollect.getAttribute("src", 2) == "../image/read/recordingStart.png") {
            playCollect.src = "../image/read/recording.png";
        } else {
            playCollect.src = "../image/read/recordingStart.png";
        }
    };

    var keywords = ["法轮功", "崔晨光", "阿賓"];
    $("input[type=text]").live("blur", function() {
        _filter_method($(this));
    });
    $("textarea").live("blur", function() {
        _filter_method($(this));
    });
    function fnCtWin() {
      api.openWin({
          name: 'ctwin',
          url: './ctwin.html',
          pageParam: {
              name: 'test'
          }
      });

    }
    function _filter_method(obj) {
        //获取文本输入框中的内容
        var value = $(obj).val();
        //遍历敏感词数组
        for (var i = 0; i < keywords.length; i++) {
            //全局替换
            var reg = new RegExp(keywords[i], "g");
            //判断内容中是否包括敏感词
            if (value.indexOf(keywords[i]) != -1) {
                var result = value.replace(reg, "**");

                value = result;
                $(obj).val(result);
                api.toast({
                    msg: '内容非法',
                    duration: 2000,
                    location: 'bottom'
                });
            }
        }
    }
</script>
